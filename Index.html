<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>L'Art de la Sculpture Malgache</title>
<style>
body { margin:0; font-family: Arial, sans-serif; background:#f7f3ef; }
header { background:#2f2b28; color:white; padding:15px; text-align:center; font-size:22px; font-weight:bold; }
nav { display:flex; flex-wrap:wrap; justify-content:center; gap:10px; background:#403c38; padding:10px; }
nav button { padding:10px 15px; background:#d9a066; border:none; color:white; cursor:pointer; border-radius:5px; font-weight:bold; }
nav button:hover { background:#bb873f; }
section { display:none; padding:20px; }
section.visible { display:block; }
.hero { text-align:center; background:white; padding:20px; border-radius:10px; }
.hero img { width:100%; max-height:300px; object-fit:cover; border-radius:10px; cursor:pointer; }
.gallery { display:grid; grid-template-columns:repeat(auto-fill, minmax(150px,1fr)); gap:10px; }
.gallery img { width:100%; height:150px; object-fit:cover; border-radius:8px; cursor:pointer; transition: transform 0.2s; }
.gallery img:hover { transform: scale(1.05); }
.service-card { background:white; padding:15px; border-radius:8px; margin-bottom:15px; box-shadow:0 2px 8px rgba(0,0,0,0.15); transition: transform 0.2s; }
.service-card:hover { transform: translateY(-5px); box-shadow:0 4px 12px rgba(0,0,0,0.2); }
.admin-panel { background:#fdf5e6; padding:15px; border-radius:10px; margin-top:10px; }
.admin-panel textarea, .admin-panel input { width:100%; padding:10px; margin-bottom:10px; border-radius:5px; border:1px solid #ccc; }
.admin-panel button { padding:10px 15px; background:#d9a066; border:none; color:white; cursor:pointer; border-radius:5px; font-weight:bold; }
.admin-panel button:hover { background:#bb873f; }
.lightbox { position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.8); display:none; align-items:center; justify-content:center; z-index:10000; }
.lightbox img { max-width:90%; max-height:90%; border-radius:10px; }
@media (max-width:600px){
  nav { flex-direction:column; }
  .service-card { margin-bottom:10px; }
}
</style>
</head>
<body>

<header>L'Art de la Sculpture Malgache</header>

<nav>
<button onclick="openSection('accueil')">Accueil</button>
<button onclick="openSection('apropos')">À propos</button>
<button onclick="openSection('services')">Services</button>
<button onclick="openSection('galerie')">Galerie</button>
<button onclick="openSection('contact')">Contact</button>
<button onclick="openSection('loginAdmin')">Admin</button>
</nav>

<!-- ACCUEIL -->
<section id="accueil" class="hero visible">
<h2>Bienvenue dans l'univers de la sculpture malgache</h2>
<img id="imgAccueil" src="" alt="Accueil" onclick="openLightbox(this.src)">
<p id="textAccueil">[Histoire du sculpteur malgache, 5 lignes modifiables]</p>
</section>

<!-- À PROPOS -->
<section id="apropos">
<h2>À propos</h2>
<p id="textApropos">Artisan sculpteur passionné, spécialisé dans les œuvres traditionnelles et modernes.</p>
</section>

<!-- SERVICES -->
<section id="services">
<h2>Services</h2>
<div id="listServices">
<div class="service-card">Commandes personnalisées</div>
<div class="service-card">Restauration d'œuvres</div>
<div class="service-card">Expositions</div>
<div class="service-card">Ateliers & Formations</div>
</div>
</section>

<!-- GALERIE -->
<section id="galerie">
<h2>Galerie</h2>
<div class="gallery" id="galleryContainer"></div>
</section>

<!-- CONTACT -->
<section id="contact">
<h2>Contact</h2>
<p>Email : <span id="contactEmail">sculpture@example.com</span></p>
<p>Téléphone : <span id="contactTel">+261 34 00 000 00</span></p>
<p>Facebook : <span id="contactFB">facebook.com/sculpture</span></p>
<p>WhatsApp : <span id="contactWA">+261 34 00 000 00</span></p>
</section>

<!-- LOGIN ADMIN -->
<section id="loginAdmin">
<h2>Connexion Admin</h2>
<input type="email" id="loginEmail" placeholder="Email Admin" style="width:100%;padding:10px;margin-bottom:10px;">
<input type="password" id="loginPassword" placeholder="Mot de passe" style="width:100%;padding:10px;margin-bottom:10px;">
<button onclick="loginAdmin()" style="padding:10px 15px;background:#d9a066;color:white;border:none;border-radius:5px;cursor:pointer;font-weight:bold;">Connexion</button>
<p id="loginError" style="color:red;margin-top:10px;"></p>
</section>

<!-- ADMIN SECTIONS -->
<div id="adminSections" style="display:none;">

<!-- Admin Accueil -->
<div class="admin-panel">
<h3>Admin Accueil</h3>
<textarea id="editAccueil" rows="5" placeholder="Texte Accueil"></textarea>
<input type="file" id="fileAccueil" accept="image/*" onchange="loadAccueilImage(event)">
<button onclick="saveAccueil()">Enregistrer Accueil</button>
</div>

<!-- Admin À propos -->
<div class="admin-panel">
<h3>Admin À propos</h3>
<textarea id="editApropos" rows="5"></textarea>
<button onclick="saveApropos()">Enregistrer À propos</button>
</div>

<!-- Admin Services -->
<div class="admin-panel">
<h3>Admin Services</h3>
<textarea id="editServices" rows="5" placeholder="Une ligne = un service"></textarea>
<button onclick="saveServices()">Enregistrer Services</button>
</div>

<!-- Admin Galerie -->
<div class="admin-panel">
<h3>Admin Galerie</h3>
<div id="galleryAdmin"></div>
<button onclick="renderGalleryAdmin()">Rafraîchir Galerie</button>
</div>

<!-- Admin Contact -->
<div class="admin-panel">
<h3>Admin Contact</h3>
<input id="editEmail" placeholder="Email">
<input id="editTel" placeholder="Téléphone">
<input id="editFB" placeholder="Facebook">
<input id="editWA" placeholder="WhatsApp">
<h4>Modifier identifiants Admin</h4>
<input id="newAdminEmail" placeholder="Nouvel Email">
<input id="newAdminPass" placeholder="Nouveau Mot de passe">
<button onclick="saveContact()">Enregistrer Contact et identifiants</button>
</div>

</div>

<!-- Lightbox -->
<div id="lightbox" class="lightbox" onclick="this.style.display='none'">
<img id="lightboxImg" src="">
</div>

<script>
let galleryData = [];
let ADMIN_EMAIL = "admin@example.com";
let ADMIN_PASSWORD = "12345";

// Section toggle
function openSection(id){
  document.querySelectorAll('section').forEach(s=>s.classList.remove('visible'));
  document.getElementById(id).classList.add('visible');
  if(id==='galerie') renderGallery();
}

// Lightbox
function openLightbox(src){
  document.getElementById('lightboxImg').src = src;
  document.getElementById('lightbox').style.display='flex';
}

// Accueil image locale
function loadAccueilImage(event){
  const file = event.target.files[0];
  if(file){
    const reader = new FileReader();
    reader.onload = e => { document.getElementById('imgAccueil').src = e.target.result; };
    reader.readAsDataURL(file);
  }
}

// Admin functions
function saveAccueil(){
  document.getElementById('textAccueil').innerText = document.getElementById('editAccueil').value || '[Histoire du sculpteur malgache, 5 lignes modifiables]';
}
function saveApropos(){
  document.getElementById('textApropos').innerText = document.getElementById('editApropos').value || 'Artisan sculpteur passionné, spécialisé dans les œuvres traditionnelles et modernes.';
}
function saveServices(){
  const services = document.getElementById('editServices').value.split("\n").filter(Boolean)
    .map(s=>`<div class="service-card">${s}</div>`).join('');
  document.getElementById('listServices').innerHTML = services;
}
function saveContact(){
  document.getElementById('contactEmail').innerText = document.getElementById('editEmail').value || 'sculpture@example.com';
  document.getElementById('contactTel').innerText = document.getElementById('editTel').value || '+261 34 00 000 00';
  document.getElementById('contactFB').innerText = document.getElementById('editFB').value || 'facebook.com/sculpture';
  document.getElementById('contactWA').innerText = document.getElementById('editWA').value || '+261 34 00 000 00';
  
  // Modifier identifiants Admin
  const newEmail = document.getElementById('newAdminEmail').value;
  const newPass = document.getElementById('newAdminPass').value;
  if(newEmail) ADMIN_EMAIL = newEmail;
  if(newPass) ADMIN_PASSWORD = newPass;
  alert("Modifications enregistrées !");
}

// Galerie
function renderGallery(){
  const container = document.getElementById('galleryContainer');
  container.innerHTML = galleryData.map((item,index)=>
    `<img src="${item.image}" onclick="openLightbox('${item.image}')">`
  ).join('');
}

function renderGalleryAdmin(){
  const container = document.getElementById('galleryAdmin');
  container.innerHTML = '';
  galleryData.forEach((item,index)=>{
    const div = document.createElement('div');
    div.style.marginBottom="10px";
    div.innerHTML = `
      <img src="${item.image}" style="width:100px;height:100px;object-fit:cover;border-radius:5px;">
      <input type="file" onchange="updateGalleryImage(event, ${index})">
      <button onclick="deleteGalleryImage(${index})">Supprimer</button>
    `;
    container.appendChild(div);
  });
}

function updateGalleryImage(event,index){
  const file = event.target.files[0];
  if(file){
    const reader = new FileReader();
    reader.onload = e=>{
      galleryData[index].image = e.target.result;
      renderGallery();
      renderGalleryAdmin();
    };
    reader.readAsDataURL(file);
  }
}

function deleteGalleryImage(index){
  if(confirm('Voulez-vous supprimer cette image ?')){
    galleryData.splice(index,1);
    renderGallery();
    renderGalleryAdmin();
  }
}

// Login Admin
function loginAdmin(){
  const email = document.getElementById('loginEmail').value;
  const pass = document.getElementById('loginPassword').value;
  if(email===ADMIN_EMAIL && pass===ADMIN_PASSWORD){
    document.getElementById('loginAdmin').style.display='none';
    document.getElementById('adminSections').style.display='block';
    document.getElementById('loginError').innerText='';
    alert("Connexion réussie !");
  } else {
    document.getElementById('loginError').innerText='Email ou mot de passe incorrect.';
  }
}

// Initialisation
document.addEventListener('DOMContentLoaded',()=>{
  galleryData = [];
  renderGallery();
  renderGalleryAdmin();
});
</script>

</body>
</html>
