<!doctype html>
<html lang="fr">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Sculpture MG</title>
<style>
:root {
  --bg:#fff8f2; --accent:#ef7e2f; --muted:#555; --card:#fff;
}
*{box-sizing:border-box;}
body{margin:0;font-family:Arial,sans-serif;background:var(--bg);color:#222;}
header{display:flex;justify-content:space-between;align-items:center;padding:20px;background:white;box-shadow:0 2px 6px rgba(0,0,0,0.1);}
header .brand{font-weight:700;color:var(--accent);font-size:24px;}
nav button{margin-left:12px;padding:8px 16px;border:none;background:var(--accent);color:white;border-radius:6px;cursor:pointer;font-weight:600;}
main{padding:40px;}
section{margin-bottom:60px;}
.btn-outline{padding:10px 20px;border:2px solid var(--accent);background:transparent;color:var(--accent);border-radius:999px;cursor:pointer;font-weight:600;}
.gallery{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:24px;}
.card{background:var(--card);border-radius:12px;box-shadow:0 4px 12px rgba(0,0,0,0.1);overflow:hidden;transition:transform 0.2s;}
.card:hover{transform:translateY(-4px);}
.card img{width:100%;height:160px;object-fit:cover;}
.card-body{padding:16px;}
.title{font-weight:700;margin-bottom:8px;}
.desc{color:var(--muted);margin-bottom:8px;}
.price{color:var(--accent);font-weight:600;}
footer{padding:20px;text-align:center;color:var(--muted);}
.admin-panel{position:fixed;top:20px;left:20px;background:white;padding:20px;box-shadow:0 4px 12px rgba(0,0,0,0.2);z-index:1000;max-height:90vh;overflow:auto;}
.admin-panel h3{margin-top:0;}
.admin-list div{margin-bottom:10px;padding:10px;border:1px solid #ccc;border-radius:10px;}
.admin-list button{margin-left:5px;}
textarea,input{margin-bottom:6px;}
</style>
</head>
<body>

<header>
  <div class="brand">Sculpture MG</div>
  <nav>
    <button onclick="showSection('home')">Accueil</button>
    <button onclick="showSection('gallery')">Galerie</button>
    <button onclick="showSection('about')">À propos</button>
    <button onclick="showSection('contact')">Contact</button>
    <button onclick="openAdmin()">Admin</button>
  </nav>
</header>

<main>
  <!-- Accueil -->
  <section id="home">
    <h1>Bienvenue chez Sculpture MG</h1>
    <p id="bioText">Biographie de l’artiste ici...</p>
    <div style="margin-top:24px;">
      <button class="btn-outline" onclick="alert('Commande de démonstration')">Commander une œuvre</button>
      <button class="btn-outline" onclick="showSection('gallery')">Explorer la Galerie →</button>
    </div>
  </section>

  <!-- Galerie -->
  <section id="gallery" style="display:none;">
    <h2>Galerie d'œuvres</h2>
    <div id="galleryGrid" class="gallery"></div>
  </section>

  <!-- À propos -->
  <section id="about" style="display:none;">
    <h2>À propos de l'artiste</h2>
    <p id="infoText">Texte à propos ici...</p>
  </section>

  <!-- Contact -->
  <section id="contact" style="display:none;">
    <h2>Contact</h2>
    <p>Email : <span id="contactEmail">contact@sculpturemg.example</span></p>
    <p>Téléphone : <span id="contactTel">+261 34 00 000 00</span></p>
    <p>Facebook : <a id="contactFB" href="https://facebook.com/sculpturemg" target="_blank">Sculpture MG</a></p>
  </section>
</main>

<footer>
  © <span id="year"></span> Sculpture MG
</footer>

<script>
// Données initiales
const STORAGE_KEY = 'sculpture_mg_data';
let DATA = JSON.parse(localStorage.getItem(STORAGE_KEY)) || {
  bioText: "Sculpture MG, artiste malgache passionné par le bois et la pierre.",
  infoText: "Artiste sculpteur basé à Madagascar, spécialisé dans les œuvres traditionnelles.",
  contact: {email:"contact@sculpturemg.example", tel:"+261 34 00 000 00", fb:"https://facebook.com/sculpturemg"},
  artworks:[
    {id:1, title:"Sculpture 1", desc:"Bois rouge, 30 cm", price:"80 000 MGA", image:"https://images.unsplash.com/photo-1526318472351-c75fcf0700c4?auto=format&fit=crop&w=800&q=60"},
    {id:2, title:"Sculpture 2", desc:"Bois clair, 25 cm", price:"70 000 MGA", image:"https://images.unsplash.com/photo-1526481280698-9f2f7c5d7b23?auto=format&fit=crop&w=800&q=60"},
    {id:3, title:"Sculpture 3", desc:"Pierre gravée, 40 cm", price:"120 000 MGA", image:"https://images.unsplash.com/photo-1560151226-00c16b1a4b0b?auto=format&fit=crop&w=800&q=60"},
    {id:4, title:"Sculpture 4", desc:"Bois foncé, 35 cm", price:"90 000 MGA", image:"https://images.unsplash.com/photo-1579202673506-ca3ce28943ef?auto=format&fit=crop&w=800&q=60"},
    {id:5, title:"Sculpture 5", desc:"Motif ancestral, 50 cm", price:"150 000 MGA", image:"https://images.unsplash.com/photo-1564564321837-a57b7070ac4f?auto=format&fit=crop&w=800&q=60"},
    {id:6, title:"Sculpture 6", desc:"Visage sculpté, 30 cm", price:"85 000 MGA", image:"https://images.unsplash.com/photo-1506807803488-8eafc15339e2?auto=format&fit=crop&w=800&q=60"},
    {id:7, title:"Sculpture 7", desc:"Forme abstraite, 45 cm", price:"110 000 MGA", image:"https://images.unsplash.com/photo-1493612276216-ee3925520721?auto=format&fit=crop&w=800&q=60"},
    {id:8, title:"Sculpture 8", desc:"Oiseau stylisé, 38 cm", price:"95 000 MGA", image:"https://images.unsplash.com/photo-1533090161767-e6ffed986c88?auto=format&fit=crop&w=800&q=60"},
    {id:9, title:"Sculpture 9", desc:"Masque tribal, 42 cm", price:"130 000 MGA", image:"https://images.unsplash.com/photo-1501594907352-04cda38ebc29?auto=format&fit=crop&w=800&q=60"},
    {id:10, title:"Sculpture 10", desc:"Animal sculpté, 40 cm", price:"100 000 MGA", image:"https://images.unsplash.com/photo-1535747224268-51f99395d8c5?auto=format&fit=crop&w=800&q=60"}
  ]
};

let ADMIN_PASSWORD = localStorage.getItem('adminPassword') || 'admin123';
document.getElementById('year').innerText = new Date().getFullYear();

function saveData(){
  localStorage.setItem(STORAGE_KEY, JSON.stringify(DATA));
  renderAll();
}

function renderAll(){
  document.getElementById('bioText').innerText = DATA.bioText;
  document.getElementById('infoText').innerText = DATA.infoText;
  document.getElementById('contactEmail').innerText = DATA.contact.email;
  document.getElementById('contactTel').innerText = DATA.contact.tel;
  document.getElementById('contactFB').href = DATA.contact.fb;

  const grid = document.getElementById('galleryGrid');
  grid.innerHTML = '';
  DATA.artworks.forEach(a=>{
    const card = document.createElement('div');
    card.className = 'card';
    card.innerHTML = `<img src="${a.image}" alt="${a.title}"><div class="card-body">
      <div class="title">${a.title}</div>
      <div class="desc">${a.desc}</div>
      <div class="price">${a.price}</div>
    </div>`;
    grid.appendChild(card);
  });
}

function showSection(id){
  ['home','gallery','about','contact'].forEach(sec=>{
    document.getElementById(sec).style.display = (sec===id?'block':'none');
  });
}

// Admin
function openAdmin(){
  const pw = prompt("Mot de passe admin :");
  if(pw!==ADMIN_PASSWORD){alert("Mot de passe incorrect"); return;}
  const panel = document.createElement('div'); panel.className='admin-panel';
  panel.innerHTML = `
    <h3>Admin Panel</h3>
    <label>Biographie :</label><br>
    <textarea id="adminBio" style="width:100%;height:80px;">${DATA.bioText}</textarea><br>
    <label>Texte À propos :</label><br>
    <textarea id="adminInfo" style="width:100%;height:80px;">${DATA.infoText}</textarea><br>
    <label>Email :</label><br><input id="adminEmail" style="width:100%;" value="${DATA.contact.email}"><br>
    <label>Téléphone :</label><br><input id="adminTel" style="width:100%;" value="${DATA.contact.tel}"><br>
    <label>Facebook :</label><br><input id="adminFB" style="width:100%;" value="${DATA.contact.fb}"><br>
    <h4>Ajouter une œuvre</h4>
    <input id="a_title" placeholder="Titre" style="width:100%;"><br>
    <input id="a_desc" placeholder="Description" style="width:100%;"><br>
    <input id="a_price" placeholder="Prix" style="width:100%;"><br>
    <input id="a_image" placeholder="URL image" style="width:100%;"><br>
    <button id="addBtn">Ajouter</button>
    <h4>Œuvres existantes :</h4>
    <div id="adminList" class="admin-list"></div>
    <button onclick="this.parentElement.remove()">Fermer</button>
  `;
  document.body.appendChild(panel);

  function refreshList(){
    const list = panel.querySelector('#adminList');
    list.innerHTML='';
    DATA.artworks.forEach((a,i)=>{
      const div = document.createElement('div');
      div.innerHTML=`<b>${a.title}</b> 
      <button onclick="deleteArt(${i});refreshList();">Supprimer</button>`;
      list.appendChild(div);
    });
  }

  panel.querySelector('#adminBio').addEventListener('blur',e=>{DATA.bioText=e.target.value; saveData();});
  panel.querySelector('#adminInfo').addEventListener('blur',e=>{DATA.infoText=e.target.value; saveData();});
  panel.querySelector('#adminEmail').addEventListener('blur',e=>{DATA.contact.email=e.target.value; saveData();});
  panel.querySelector('#adminTel').addEventListener('blur',e=>{DATA.contact.tel=e.target.value; saveData();});
  panel.querySelector('#adminFB').addEventListener('blur',e=>{DATA.contact.fb=e.target.value; saveData();});

  panel.querySelector('#addBtn').onclick=()=>{
    const t=panel.querySelector('#a_title').value;
    const d=panel.querySelector('#a_desc').value;
    const p=panel.querySelector('#a_price').value;
    const i=panel.querySelector('#a_image').value;
    if(!t||!i){alert("Titre et image requis");return;}
    DATA.artworks.push({id:Date.now(),title:t,desc:d,price:p,image:i});
    saveData();
    refreshList();
    panel.querySelector('#a_title').value=''; panel.querySelector('#a_desc').value=''; panel.querySelector('#a_price').value=''; panel.querySelector('#a_image').value='';
  };

  window.deleteArt=(i)=>{if(confirm("Supprimer cette œuvre ?")){DATA.artworks.splice(i,1); saveData();}};
  refreshList();
}

window.onload=()=>{renderAll(); showSection('home');};
</script>

</body>
</html>
