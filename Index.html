<!doctype html>
<html lang="fr">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>L'Art de la Sculpture Malgache</title>
<style>
:root{--accent:#8B5E3C;--bg:#fbf8f5;--muted:#666;--card:#fff}
*{box-sizing:border-box}
body{margin:0;font-family:Arial,Helvetica,sans-serif;background:var(--bg);color:#222}
.header{display:flex;align-items:center;justify-content:space-between;padding:14px 18px;background:var(--accent);color:#fff;flex-wrap:wrap}
.brand{font-weight:800}
.nav{display:flex;gap:8px;flex-wrap:wrap}
.nav button{background:transparent;border:1px solid rgba(255,255,255,0.12);color:#fff;padding:8px 12px;border-radius:999px;cursor:pointer}
.container{max-width:1100px;margin:18px auto;padding:0 16px}
.section{margin-top:18px;padding:14px;background:var(--card);border-radius:10px;box-shadow:0 6px 18px rgba(0,0,0,0.04)}
.section h2{color:var(--accent);margin:0 0 10px}
.services-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:14px}
.service-card{background:#fff;padding:14px;border-radius:10px;box-shadow:0 6px 18px rgba(0,0,0,0.04)}
.gallery{display:grid;grid-template-columns:repeat(auto-fill,minmax(140px,1fr));gap:12px}
.gallery .item{position:relative;border-radius:8px;overflow:hidden;background:#eee;padding-bottom:6px}
.gallery img{width:100%;height:140px;object-fit:cover;display:block;cursor:pointer;transition:transform .18s}
.gallery img:hover{transform:scale(1.04)}
.caption{padding:8px;font-size:13px}
.title{font-weight:700;color:#222}
.desc{color:var(--muted);font-size:13px;margin-top:4px}
.price{color:var(--accent);font-weight:800;margin-top:6px}
.footer{padding:20px;text-align:center;color:var(--muted)}
.lightbox{position:fixed;inset:0;background:rgba(0,0,0,0.85);display:none;align-items:center;justify-content:center;z-index:9999;padding:20px}
.lightbox .box{background:#fff;padding:12px;border-radius:10px;max-width:900px;width:100%;display:flex;gap:12px;align-items:flex-start}
.lightbox img{max-width:60%;height:auto;border-radius:8px}
.lightbox .info{max-width:40%}
.input,textarea,input[type=file],select{width:100%;padding:8px;border-radius:6px;border:1px solid #ddd;margin-bottom:8px}
.btn{background:var(--accent);color:#fff;border:0;padding:8px 10px;border-radius:8px;cursor:pointer}
.btn.ghost{background:transparent;color:var(--accent);border:1px solid var(--accent)}
.admin-panel{margin-top:10px;background:#fff8f0;padding:12px;border-radius:10px;display:none}
.login-modal{position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:rgba(0,0,0,0.6);z-index:10000}
.login-card{background:#fff;padding:18px;border-radius:12px;width:94%;max-width:420px}
.row{display:flex;gap:8px}
.row .col{flex:1}
.note{color:var(--muted);font-size:13px}
@media(max-width:820px){.lightbox .box{flex-direction:column}.lightbox img{max-width:100%}.lightbox .info{max-width:100%}}
</style>
</head>
<body>

<header class="header">
  <div class="brand">L'Art de la Sculpture Malgache</div>
  <nav class="nav">
    <button onclick="show('accueil')">Accueil</button>
    <button onclick="show('apropos')">À propos</button>
    <button onclick="show('prehistoire')">Pré-histoire</button>
    <button onclick="show('services')">Services</button>
    <button onclick="show('galerie')">Galerie</button>
    <button onclick="show('commande')">Commander</button>
    <button onclick="show('contact')">Contact</button>
    <button onclick="openLogin()">Admin</button>
  </nav>
</header>

<main class="container">

<section id="accueil" class="section">
  <h2>Accueil</h2>
  <p>Bienvenue dans l'univers de la sculpture malgache. Découvrez les œuvres qui mêlent tradition et modernité.</p>
</section>

<section id="apropos" class="section" style="display:none">
  <h2>À propos</h2>
  <p>Artisan sculpteur malgache travaillant le bois, la pierre et les matériaux naturels.</p>
</section>

<section id="prehistoire" class="section" style="display:none">
  <h2>Pré-histoire</h2>
  <p>Les premières sculptures malgaches représentaient ancêtres et esprits, chaque région ayant développé son style unique.</p>
</section>

<section id="services" class="section" style="display:none">
  <h2>Services</h2>
  <div id="servicesGrid" class="services-grid"></div>
</section>

<section id="galerie" class="section" style="display:none">
  <h2>Galerie</h2>
  <div id="galleryGrid" class="gallery"></div>
  <div id="adminGallery" class="admin-panel">
    <h3>Gérer la galerie</h3>
    <input type="file" id="galleryFile" accept="image/*" class="input">
    <input id="galleryTitle" class="input" placeholder="Titre">
    <input id="galleryPrice" class="input" placeholder="Prix">
    <textarea id="galleryDesc" rows="2" class="input" placeholder="Description"></textarea>
    <div class="row">
      <button class="btn" onclick="addGalleryItem()">Ajouter</button>
      <button class="btn ghost" onclick="clearGallery()">Vider la galerie</button>
    </div>
  </div>
</section>

<section id="commande" class="section" style="display:none">
  <h2>Commander une œuvre</h2>
  <form id="orderForm">
    <div style="display:grid;grid-template-columns:1fr 1fr;gap:8px">
      <input type="text" id="orderName" placeholder="Nom" required>
      <input type="email" id="orderEmail" placeholder="Email" required>
    </div>
    <div style="display:grid;grid-template-columns:1fr 1fr;gap:8px;margin-top:8px">
      <select id="orderOeuvre"></select>
      <input type="number" id="orderQty" min="1" value="1">
    </div>
    <textarea id="orderMsg" placeholder="Message / détails" style="margin-top:8px"></textarea>
    <div style="display:flex;gap:8px;margin-top:8px">
      <button class="btn" type="submit">Envoyer</button>
      <button class="btn ghost" type="button" onclick="resetOrderForm()">Annuler</button>
    </div>
  </form>
</section>

<section id="contact" class="section" style="display:none">
  <h2>Contact</h2>
  <p>Email : contact@artmalagasy.mg</p>
  <p>Téléphone : +261 34 00 000 00</p>
</section>

<footer class="footer">© <span id="year"></span> L'Art de la Sculpture Malgache — Madagascar</footer>

<!-- LIGHTBOX -->
<div id="lightbox" class="lightbox" onclick="if(event.target.id==='lightbox') closeLightbox()">
  <div class="box">
    <img id="lightboxImg" src="">
    <div class="info">
      <div class="title" id="lightboxTitle"></div>
      <div class="desc" id="lightboxDesc"></div>
      <div class="price" id="lightboxPrice"></div>
      <div style="margin-top:10px"><button class="btn" onclick="closeLightbox()">Fermer</button></div>
    </div>
  </div>
</div>

<!-- LOGIN MODAL -->
<div id="loginModal" class="login-modal" onclick="if(event.target.id==='loginModal') closeLogin()">
  <div class="login-card">
    <h3>Connexion Admin</h3>
    <input id="loginEmail" class="input" placeholder="Email">
    <input id="loginPass" class="input" placeholder="Mot de passe" type="password">
    <div class="row">
      <button class="btn" onclick="login()">Se connecter</button>
      <button class="btn ghost" onclick="closeLogin()">Annuler</button>
    </div>
    <p class="note">Identifiants : <strong>admin@site.com</strong> / <strong>1234</strong></p>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/sortablejs@1.15.0/Sortable.min.js"></script>
<script>
const KEY='sculpture_admin';
function defaultState(){ return {
  creds:{email:'admin@site.com',pass:'1234'},
  services:['Commandes personnalisées','Restauration d’œuvres','Expositions','Ateliers & Formations'],
  gallery:[
    {image:'data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD/...',title:'Sculpture Bois 1',desc:'Bois sculpté',price:'120 000 MGA'},
    {image:'data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD/...',title:'Sculpture Pierre 1',desc:'Pierre gravée',price:'200 000 MGA'}
  ],
  orders:[]
};}
let state;
function loadState(){try{state=JSON.parse(localStorage.getItem(KEY))||defaultState();}catch(e){state=defaultState();} saveState();}
function saveState(){localStorage.setItem(KEY,JSON.stringify(state));}
function show(id){document.querySelectorAll('main section').forEach(s=>s.style.display='none');document.getElementById(id).style.display='block';}
function openLogin(){document.getElementById('loginModal').style.display='flex';}
function closeLogin(){document.getElementById('loginModal').style.display='none';}
function login(){const e=document.getElementById('loginEmail').value;const p=document.getElementById('loginPass').value;if(e===state.creds.email&&p===state.creds.pass){closeLogin();document.getElementById('adminGallery').style.display='block';alert('Connecté en Admin');}else alert('Erreur identifiants');}
function renderGallery(){const grid=document.getElementById('galleryGrid');grid.innerHTML='';state.gallery.forEach((g,i)=>{const div=document.createElement('div');div.className='item';const img=document.createElement('img');img.src=g.image;img.onclick=()=>openLightbox(i);div.appendChild(img);const cap=document.createElement('div');cap.className='caption';cap.innerHTML=`<div class="title">${g.title}</div><div class="desc">${g.desc}</div><div class="price">${g.price}</div>`;div.appendChild(cap);grid.appendChild(div);});new Sortable(grid,{animation:150});}
function addGalleryItem(){const f=document.getElementById('galleryFile').files[0];const t=document.getElementById('galleryTitle').value;const d=document.getElementById('galleryDesc').value;const p=document.getElementById('galleryPrice').value;if(!f||!t) return alert('Fichier et titre requis');const reader=new FileReader();reader.onload=e=>{state.gallery.push({image:e.target.result,title:t,desc:d,price:p});saveState();renderGallery();populateOeuvres();document.getElementById('galleryFile').value='';document.getElementById('galleryTitle').value='';document.getElementById('galleryDesc').value='';document.getElementById('galleryPrice').value='';};reader.readAsDataURL(f);}
function clearGallery(){if(confirm('Vider toute la galerie?')){state.gallery=[];saveState();renderGallery();populateOeuvres();}}
let currentLight=0;
function openLightbox(i){currentLight=i;const g=state.gallery[i];document.getElementById('lightboxImg').src=g.image;document.getElementById('lightboxTitle').textContent=g.title;document.getElementById('lightboxDesc').textContent=g.desc;document.getElementById('lightboxPrice').textContent=g.price;document.getElementById('lightbox').style.display='flex';}
function closeLightbox(){document.getElementById('lightbox').style.display='none';}
function renderServices(){const grid=document.getElementById('servicesGrid');grid.innerHTML='';state.services.forEach(s=>{const d=document.createElement('div');d.className='service-card';d.textContent=s;grid.appendChild(d);});}
document.getElementById('orderForm').onsubmit=function(e){e.preventDefault();const o={name:this.orderName.value,email:this.orderEmail.value,oeuvre:this.orderOeuvre.value,qty:this.orderQty.value,msg:this.orderMsg.value};state.orders.push(o);saveState();alert('Commande enregistrée');resetOrderForm();}
function resetOrderForm(){document.getElementById('orderForm').reset();}
function populateOeuvres(){const sel=document.getElementById('orderOeuvre');sel.innerHTML='';state.gallery.forEach(g=>{const opt=document.createElement('option');opt.text=g.title;opt.value=g.title;sel.add(opt);});}
loadState();renderServices();renderGallery();populateOeuvres();document.getElementById('year').textContent=new Date().getFullYear();
</script>

</body>
</html>
